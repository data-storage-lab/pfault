#!/bin/bash

#echo "Set ISCSI variables"
export PFAULT_DIR=/pfault/
export ISCSI_SERVER_USER=root
export ISCSI_SERVER_IP=192.168.56.102 #change
export MULTINODE_DIRECTOR=/multinodes/

export LUSTRE_NAME=lustre
##################Configure Client##################
export CLIENT_CNT=1
export CLIENT_IP=(192.168.56.108)
export CLIENT_USER=(root)
export CLIENT_LUSTRE_MNT_PNT=(/lustre/)



#export PERCENTAGE=50
#export ROLL_BACK_WRKLD_N=
#export AGE_WORKLOAD_N=
#export VERIFIABLE_WORKLOAD_N=
#export CHECK_WORKLOAD_N=
export ROLLBACK_WORKLOADS_CNT=1
export ROLLBACK_WORKLOADS=(/pfault/workload_example/rollback_workload/rollback_workload.sh)
export AGE_WORKLOADS_CNT=2
export AGE_WORKLOADS=(/pfault/workload_example/age_workload/cp_tar_rm.sh /pfault/workload_example/momtage-m101.sh)
export VERIFIABLE_WORKLOADS_CNT=1
export VERIFIABLE_WORKLOADS=(/pfault/workload_example/verifiable_workload/wikiw_init.sh)
export CHECK_WORKLOADS=1
export CHECK_WORKLOADS=(/pfault/workload_example/check_workload/wikir.sh /pfault/workload_example/check_workload/wikiw-async.sh /pfault/workload_example/check_workload/wikiw-sync.sh)

############## Configure MGT & MGS Nodes ################
#echo "Set MGT/MGS Variables"

export MGT_CNT=1
export MGS_CNT=1
tn=0
export MGT_NAMES=(mgt)
#echo "    MGT_NAMES: ${MGT_NAMES[tn]}"
export MGS_IPS=(192.168.56.111)
#echo "    MGS_IPS: ${MGS_IPS[0]}"
export MGS_USERS=(root)
#echo "    MGS_USERS: ${MGS_USERS[0]}"
export MGS_LNET_POSTFIX=(tcp1)
#echo "    MGS_LNET_POSTFIX: ${MGS_LNET_POSTFIX[0]}"
#export MGS_LNET_CARDS=(enp0s8)

export MGT_DISK_LABEL=(/dev/sdb)
export MGT_LUSTRE_MNT_PNT=(/mgt)
export MGT_LDISKFS_MNT_PNT=(/local)

export MGS_TMP_DIR=(/lustre_tmp)

############## Configure MDT & MDS Nodes ################

#echo "Set MDT/MDS Variables"

export MDT_CNT=1
export MDS_CNT=1

export MDT_NAMES=(mdt1)
export MDS_IP=(192.168.56.110)
export MDS_USERS=(root)
#export MDS_LNET_CARDS=(enp0s8)
export MDT_DISK_LABEL=(/dev/sdb)
export MDT_LUSTRE_MNT_PNT=(/mdt)
export MDT_LDISKFS_MNT_PNT=(/local)

export MDS_TMP_DIR=(/lustre_tmp)

############### Configure OST & OSS Nodes ###############

#echo "Set OST/OSS Variables"

export OST_CNT=3
export OSS_CNT=3

export OST_NAMES=(ost1 ost2 ost3)
export OSS_IPS=(192.168.56.108 192.168.56.109 192.168.56.112)
export OSS_USERS=(root root root)
#export OSS_LNET_CARDS=(enp0s8 enp0s8 enp0s8)
export OST_DISK_LABEL=(/dev/sdb /dev/sdb /dev/sdb)
export OST_LUSTRE_MNT_PNT=(/ost /ost /ost)
export OST_LDISKFS_MNT_PNT=(/local /local /local)

export OSS_TMP_DIR=(/lustre_tmp /lustre_tmp /lustre_tmp)
